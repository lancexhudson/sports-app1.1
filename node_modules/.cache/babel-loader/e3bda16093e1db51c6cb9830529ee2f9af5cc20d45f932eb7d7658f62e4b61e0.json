{"ast":null,"code":"var _jsxFileName = \"/Users/lance/Documents/git-workspace/sports-app1.1/src/components/PollCard.js\",\n  _s = $RefreshSig$();\n// src/components/PollCard.js\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PollCard = ({\n  polls\n}) => {\n  _s();\n  const [votes, setVotes] = useState({});\n  const [showThanks, setShowThanks] = useState(null); // pollId\n\n  // Load votes from localStorage\n  useEffect(() => {\n    const savedVotes = {};\n    polls.forEach(poll => {\n      const saved = localStorage.getItem(`poll-${poll.id}`);\n      if (saved) {\n        savedVotes[poll.id] = JSON.parse(saved);\n      } else {\n        savedVotes[poll.id] = poll.options.reduce((acc, opt) => ({\n          ...acc,\n          [opt.id]: 0\n        }), {});\n      }\n    });\n    setVotes(savedVotes);\n  }, [polls]);\n\n  // Save votes\n  useEffect(() => {\n    Object.keys(votes).forEach(pollId => {\n      localStorage.setItem(`poll-${pollId}`, JSON.stringify(votes[pollId]));\n    });\n  }, [votes]);\n  const handleVote = (pollId, optionId) => {\n    const pollVotes = votes[pollId] || {};\n    if (pollVotes[optionId] === undefined) return; // safety\n\n    // Prevent multiple votes\n    const hasVoted = Object.values(pollVotes).some(v => v > 0);\n    if (hasVoted) return;\n    setVotes(prev => ({\n      ...prev,\n      [pollId]: {\n        ...prev[pollId],\n        [optionId]: (prev[pollId][optionId] || 0) + 1\n      }\n    }));\n\n    // Show thank you\n    setShowThanks(pollId);\n    setTimeout(() => setShowThanks(null), 2000);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"poll-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"poll-title\",\n      children: \"Fan Polls\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"polls-list\",\n      children: polls.map(poll => {\n        const pollVotes = votes[poll.id] || {};\n        const total = Object.values(pollVotes).reduce((a, b) => a + b, 0) || 1;\n        const hasVoted = Object.values(pollVotes).some(v => v > 0);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"poll-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"poll-question\",\n            children: poll.question\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"poll-options\",\n            children: poll.options.map(opt => {\n              const percentage = Math.round((pollVotes[opt.id] || 0) / total * 100);\n              const isSelected = hasVoted && pollVotes[opt.id] > 0;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `poll-option ${hasVoted ? 'voted' : 'clickable'}`,\n                onClick: () => !hasVoted && handleVote(poll.id, opt.id),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"poll-label\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: opt.text\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 82,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"poll-pct\",\n                    children: [percentage, \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 83,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"poll-bar-bg\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"poll-bar\",\n                    style: {\n                      width: `${percentage}%`\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 86,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 23\n                }, this), isSelected && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"your-vote\",\n                  children: \"Your vote\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 25\n                }, this)]\n              }, opt.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"poll-total\",\n            children: [total, \" vote\", total !== 1 ? 's' : '']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this), showThanks === poll.id && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"thank-you-popup\",\n            children: \"Thank you for your vote!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 17\n          }, this)]\n        }, poll.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(PollCard, \"80phVDw/L/EKNDXFuhUmyRp81us=\");\n_c = PollCard;\nexport default PollCard;\nvar _c;\n$RefreshReg$(_c, \"PollCard\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","PollCard","polls","_s","votes","setVotes","showThanks","setShowThanks","savedVotes","forEach","poll","saved","localStorage","getItem","id","JSON","parse","options","reduce","acc","opt","Object","keys","pollId","setItem","stringify","handleVote","optionId","pollVotes","undefined","hasVoted","values","some","v","prev","setTimeout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","total","a","b","question","percentage","Math","round","isSelected","onClick","text","style","width","_c","$RefreshReg$"],"sources":["/Users/lance/Documents/git-workspace/sports-app1.1/src/components/PollCard.js"],"sourcesContent":["// src/components/PollCard.js\nimport React, { useState, useEffect } from 'react';\n\nconst PollCard = ({ polls }) => {\n  const [votes, setVotes] = useState({});\n  const [showThanks, setShowThanks] = useState(null); // pollId\n\n  // Load votes from localStorage\n  useEffect(() => {\n    const savedVotes = {};\n    polls.forEach((poll) => {\n      const saved = localStorage.getItem(`poll-${poll.id}`);\n      if (saved) {\n        savedVotes[poll.id] = JSON.parse(saved);\n      } else {\n        savedVotes[poll.id] = poll.options.reduce(\n          (acc, opt) => ({ ...acc, [opt.id]: 0 }),\n          {}\n        );\n      }\n    });\n    setVotes(savedVotes);\n  }, [polls]);\n\n  // Save votes\n  useEffect(() => {\n    Object.keys(votes).forEach((pollId) => {\n      localStorage.setItem(`poll-${pollId}`, JSON.stringify(votes[pollId]));\n    });\n  }, [votes]);\n\n  const handleVote = (pollId, optionId) => {\n    const pollVotes = votes[pollId] || {};\n    if (pollVotes[optionId] === undefined) return; // safety\n\n    // Prevent multiple votes\n    const hasVoted = Object.values(pollVotes).some((v) => v > 0);\n    if (hasVoted) return;\n\n    setVotes((prev) => ({\n      ...prev,\n      [pollId]: {\n        ...prev[pollId],\n        [optionId]: (prev[pollId][optionId] || 0) + 1,\n      },\n    }));\n\n    // Show thank you\n    setShowThanks(pollId);\n    setTimeout(() => setShowThanks(null), 2000);\n  };\n\n  return (\n    <div className=\"poll-card\">\n      <h3 className=\"poll-title\">Fan Polls</h3>\n      <div className=\"polls-list\">\n        {polls.map((poll) => {\n          const pollVotes = votes[poll.id] || {};\n          const total =\n            Object.values(pollVotes).reduce((a, b) => a + b, 0) || 1;\n          const hasVoted = Object.values(pollVotes).some((v) => v > 0);\n\n          return (\n            <div key={poll.id} className=\"poll-item\">\n              <h4 className=\"poll-question\">{poll.question}</h4>\n              <div className=\"poll-options\">\n                {poll.options.map((opt) => {\n                  const percentage = Math.round(\n                    ((pollVotes[opt.id] || 0) / total) * 100\n                  );\n                  const isSelected = hasVoted && pollVotes[opt.id] > 0;\n\n                  return (\n                    <div\n                      key={opt.id}\n                      className={`poll-option ${\n                        hasVoted ? 'voted' : 'clickable'\n                      }`}\n                      onClick={() => !hasVoted && handleVote(poll.id, opt.id)}\n                    >\n                      <div className=\"poll-label\">\n                        <span>{opt.text}</span>\n                        <span className=\"poll-pct\">{percentage}%</span>\n                      </div>\n                      <div className=\"poll-bar-bg\">\n                        <div\n                          className=\"poll-bar\"\n                          style={{ width: `${percentage}%` }}\n                        />\n                      </div>\n                      {isSelected && (\n                        <span className=\"your-vote\">Your vote</span>\n                      )}\n                    </div>\n                  );\n                })}\n              </div>\n              <div className=\"poll-total\">\n                {total} vote{total !== 1 ? 's' : ''}\n              </div>\n\n              {/* Thank You Popup */}\n              {showThanks === poll.id && (\n                <div className=\"thank-you-popup\">Thank you for your vote!</div>\n              )}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default PollCard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}