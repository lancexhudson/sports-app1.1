{"ast":null,"code":"var _jsxFileName = \"/Users/lance/Documents/git-workspace/sports-app1.1/src/components/PollCard.js\",\n  _s = $RefreshSig$();\n// src/components/PollCard.js\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PollCard = ({\n  poll\n}) => {\n  _s();\n  const [votes, setVotes] = useState({});\n  const [hasVoted, setHasVoted] = useState(false);\n\n  // Load from localStorage\n  useEffect(() => {\n    const saved = localStorage.getItem(`poll-${poll.id}`);\n    if (saved) {\n      const data = JSON.parse(saved);\n      setVotes(data.votes);\n      setHasVoted(true);\n    } else {\n      setVotes(poll.options.reduce((acc, opt) => ({\n        ...acc,\n        [opt.id]: 0\n      }), {}));\n    }\n  }, [poll.id, poll.options]);\n\n  // Save to localStorage\n  useEffect(() => {\n    if (Object.keys(votes).length > 0) {\n      localStorage.setItem(`poll-${poll.id}`, JSON.stringify({\n        votes,\n        hasVoted\n      }));\n    }\n  }, [votes, poll.id]);\n  const totalVotes = Object.values(votes).reduce((a, b) => a + b, 0) || 1;\n  const handleVote = optionId => {\n    if (hasVoted) return;\n    setVotes(prev => ({\n      ...prev,\n      [optionId]: (prev[optionId] || 0) + 1\n    }));\n    setHasVoted(true);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"poll-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"poll-question\",\n      children: poll.question\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"poll-options\",\n      children: poll.options.map(opt => {\n        const percentage = Math.round((votes[opt.id] || 0) / totalVotes * 100);\n        const isSelected = hasVoted && votes[opt.id] > 0;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"poll-option\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"poll-option-label\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: opt.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"poll-percentage\",\n              children: [percentage, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"poll-bar-container\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"poll-bar\",\n              style: {\n                width: `${percentage}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 15\n          }, this), !hasVoted && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleVote(opt.id),\n            className: \"poll-vote-btn\",\n            disabled: hasVoted,\n            children: \"Vote\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this), hasVoted && isSelected && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"poll-voted\",\n            children: \"Your vote\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 17\n          }, this)]\n        }, opt.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"poll-footer\",\n      children: [totalVotes, \" vote\", totalVotes !== 1 ? 's' : '']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(PollCard, \"t6boQjVOcvI+CiQTC35TGqj26gs=\");\n_c = PollCard;\nexport default PollCard;\nvar _c;\n$RefreshReg$(_c, \"PollCard\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","PollCard","poll","_s","votes","setVotes","hasVoted","setHasVoted","saved","localStorage","getItem","id","data","JSON","parse","options","reduce","acc","opt","Object","keys","length","setItem","stringify","totalVotes","values","a","b","handleVote","optionId","prev","className","children","question","fileName","_jsxFileName","lineNumber","columnNumber","map","percentage","Math","round","isSelected","text","style","width","onClick","disabled","_c","$RefreshReg$"],"sources":["/Users/lance/Documents/git-workspace/sports-app1.1/src/components/PollCard.js"],"sourcesContent":["// src/components/PollCard.js\nimport React, { useState, useEffect } from 'react';\n\nconst PollCard = ({ poll }) => {\n  const [votes, setVotes] = useState({});\n  const [hasVoted, setHasVoted] = useState(false);\n\n  // Load from localStorage\n  useEffect(() => {\n    const saved = localStorage.getItem(`poll-${poll.id}`);\n    if (saved) {\n      const data = JSON.parse(saved);\n      setVotes(data.votes);\n      setHasVoted(true);\n    } else {\n      setVotes(\n        poll.options.reduce((acc, opt) => ({ ...acc, [opt.id]: 0 }), {})\n      );\n    }\n  }, [poll.id, poll.options]);\n\n  // Save to localStorage\n  useEffect(() => {\n    if (Object.keys(votes).length > 0) {\n      localStorage.setItem(\n        `poll-${poll.id}`,\n        JSON.stringify({ votes, hasVoted })\n      );\n    }\n  }, [votes, poll.id]);\n\n  const totalVotes = Object.values(votes).reduce((a, b) => a + b, 0) || 1;\n\n  const handleVote = (optionId) => {\n    if (hasVoted) return;\n    setVotes((prev) => ({ ...prev, [optionId]: (prev[optionId] || 0) + 1 }));\n    setHasVoted(true);\n  };\n\n  return (\n    <div className=\"poll-card\">\n      <h3 className=\"poll-question\">{poll.question}</h3>\n      <div className=\"poll-options\">\n        {poll.options.map((opt) => {\n          const percentage = Math.round(\n            ((votes[opt.id] || 0) / totalVotes) * 100\n          );\n          const isSelected = hasVoted && votes[opt.id] > 0;\n\n          return (\n            <div key={opt.id} className=\"poll-option\">\n              <div className=\"poll-option-label\">\n                <span>{opt.text}</span>\n                <span className=\"poll-percentage\">{percentage}%</span>\n              </div>\n              <div className=\"poll-bar-container\">\n                <div className=\"poll-bar\" style={{ width: `${percentage}%` }} />\n              </div>\n              {!hasVoted && (\n                <button\n                  onClick={() => handleVote(opt.id)}\n                  className=\"poll-vote-btn\"\n                  disabled={hasVoted}\n                >\n                  Vote\n                </button>\n              )}\n              {hasVoted && isSelected && (\n                <span className=\"poll-voted\">Your vote</span>\n              )}\n            </div>\n          );\n        })}\n      </div>\n      <div className=\"poll-footer\">\n        {totalVotes} vote{totalVotes !== 1 ? 's' : ''}\n      </div>\n    </div>\n  );\n};\n\nexport default PollCard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}